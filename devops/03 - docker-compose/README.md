## Prerequsite

Docker 19.03 or greater

Docker-compose 1.26 or greater

## Legend

Docker compose with 3 applications (frontend + backend + DB).

### Instructions for running

1. Bootstrap the DB:

`docker-compose up -d db`

`docker-compose run --rm flaskapp /bin/bash -c "cd /opt/services/flaskapp/src && python -c  'import database; database.init_db()'"`

2. Boot up the cluster

`docker-compose up -d`

3. Browse to localhost:8080 to see the app in action.

## Questions

1. What is the difference between Docker Compose and dockerfile? Why do I need Docker Compose?
- We need a Docker file to build an image and so it has the instructions for it
- We need Docker compose to describe running multiple Docker containers

2. How do I parameterize compose for different environments?
- Firstly we need `.env` file which must contains the variable we need to use in compose, then call them in the compose and it will automatically take thier value from the `.env` file
- Syntax: declare variable inside `.env` like this `VARIABLE=VALUE` , and in the compose `${VARIABLE}` 

3. What types of entities are used in docker-compose and for what purpose?

- version: specify the version of Docker compose
- services: configure docker container
- image: to pull a docker image
- volumes: to preserve data from outside containers generated by the running container.
- networks

4. `*` How to output application logs? `docker-compose logs SERVICE`

4. `*` How to copy\upload a file from host machine to the container? `volumes: - /srcPath/srcFile:/dstPath/dstFile`

5. `*` How to save file changes made inside the container? 


## Tasks

* Docker-compose has a bug - investigate it! What would you improve?  Personally I couldn't find any bug

* Docker-compose with an environment file. Create 2 different environment files for docker-compose <br />
 Two different environment files were created (`.env` and `.env.dev`) the first one `.env` have some variables and the compose fill the values from `.env` automatically just by running `docker-compose up` while on the other file, we have the same variables(some of them with different values) and the compose fill the values only if we pass the `.env.dev` as argument using `docker-compose --env-file .env.dev up`

* `*` Change the `docker-compose.yml` to run through dockerstack with code reuse (don't repeat yourself)

